/* 
- animation.import.less -
Styles associated with animating the theme shell construct.
This file is directly relevant to variables and elements found in context.import.less.
Including: 8 off-canvas classes to animate the multiple canvas.
Set canvasEffectId with value 1-8 in theme.import.less and it is applied to the '.canvas' element.
*/

.canvasEffect(@canvasEffectId){
    // Overlay appears on body during an active off canvas event
    &@{offActive} @{overlay}{
        .opacity(1);
    }
    // 1 - Slide Over Canvas
    & when (@canvasEffectId = 1){
        @{off}{
            z-index: 2;
            .visible;
            .transform(translate3d(-100%, 0, 0));
            &:after{display: none;}
        }
        &@{offActive}{
            @{off}{
                .visible;
                .transform(translate3d(0, 0, 0));           
            }
        }
    }

    // 2 - Reveal
    & when (@canvasEffectId = 2){
        @{off}{
            z-index: 0;
            &:after{display: none;}
        }
        &@{offActive}{
            @{canvasPush} {
                .transform(translate3d(300px, 0, 0));
            }
            @{off}{
                .visible;
                .transition(transform,0.5s,linear,0ms);
            }
        }
    }

    // 3 - Slide Along
    & when (@canvasEffectId = 3){
        @{off}{
            z-index: 0;
            .transform(translate3d(-50%, 0, 0));
            &:after{display: none;}
        }
        &@{offActive}{
            @{canvasPush} {
                .transform(translate3d(300px, 0, 0));
            }
            @{off}{
                .visible;
                .transition(transform,0.5s,linear,0ms);
                .transform(translate3d(0, 0, 0));
            }
        }
    }

    // 4 - Reverse Slide Out
    & when (@canvasEffectId = 4){
        @{off}{
            z-index: 0;
            .transform(translate3d(50%, 0, 0));
        }
        &@{offActive}{
            @{canvasPush} {
                .transform(translate3d(300px, 0, 0));
            }
            @{off}{
                .visible;
                .transition(transform,0.5s,linear,0ms);
                .transform(translate3d(0, 0, 0));
            }
        }
    }

    // 5 - Push (Scale Down)
    // Not functioning correctly
    & when (@canvasEffectId = 5){
        .perspective(1500px);
        @{canvasPush} {
            .transform-style(preserve-3d);
        }
        @{off}{
            z-index: 2;
            .opacity(1);
            .transition(transform,0.5s,linear,0ms);
            .transform(translate3d(-100%, 0, 0));    
            &:after{display: none;}     
        }
        &@{offActive}{
            @{canvasPush} {
                .transform(translate3d(0, 0, -300px));
                //.transform(translate3d(200px, -50px, -500px));
            }
            @{off}{
                .visible;
                .transition(transform,0.5ms,linear,0ms);
                .transform(translate3d(0, 0, 0));
            }
        }
    }

    // 6 - Scale Up
    & when (@canvasEffectId = 6){
        .perspective(1500px);
        .perspective-origin(0% 50%);
        @{off}{
             z-index: 0;
             .opacity(1);
            .transform(translate3d(0, 0, -300px));          
        }
        &@{offActive}{
            @{canvasPush}{
                .transform(translate3d(300px, 0, 0));            
            }
            @{off}{
                .visible;
                .transition(transform,0.5s,linear,0ms);
                .transform(translate3d(0, 0, 0));
            }
        }
    }

    // 7 - Door
    // Not functioning correctly
    & when (@canvasEffectId = 7){
        .perspective(1500px);
        @{canvasPush} {
            .transform-origin(100% 50%);
            .transform-style(preserve-3d);
        }
        @{off}{
            z-index: 2;
            .opacity(1);
            .transform(translate3d(-100%, 0, 0));
            &:after{display: none;}
        }
        &@{offActive}{
            @{canvasPush} {
                .transform(rotateY(-10deg));
            }  
            @{off}{
                .visible;
                .transition(transform,0.5s,linear,0ms);
                .transform(translate3d(0, 0, 0));             
            }          
        }
    }
    
    //8 - Fall In
    & when (@canvasEffectId = 8){
        .perspective(1500px);
        .perspective-origin(0% 50%);
        @{off} {
            z-index: 0;
            .opacity(1);
            .transform(translate3d(0, -100%, 0));
        }
        &@{offActive}{
            @{canvasPush} {
                .transform(translate3d(300px, 0, 0));
            }
            @{off}{
                .visible;
                .transition(transform,0.2s,ease-in-out,0ms);
                .transform(translate3d(0, 0, 0));
            }
        }
    }
}
