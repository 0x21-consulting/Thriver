<template name="eventsAdmin">
  <section id="admin-form-container-context-event-add" class="addEvent hide">
    {{> eventAddForm}}
  </section>
</template>

<template name="viewRegistrations">
  <section class="viewRegistrations hide">
    <h3>Registered Participants</h3>
    <button class="fa csv">&#xf019; Download as CSV</button>
    <button class="fa close">&#xf057; Close</button>
    <table>
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Organization</th>
          <th>Title</th>
          <th>Address</th>
          <th>City</th>
          <th>State</th>
          <th>ZIP Code</th>
          <th>Phone Number</th>
          <th>Email Address</th>
          <th>Emergency Contact Name</th>
          <th>Emergency Contact Relationship</th>
          <th>Emergency Contact Number</th>
          <th>Diet</th>
          <th>Dietary Restrictions</th>
          <th>Allergens</th>
          <th>Special Accommodations</th>
          {{#each getSpecialFields}}
            <th data-id="{{id}}">{{name}}</th>
          {{/each}}
        </tr>
      </thead>
      {{#each registrant}}
        <tr data-id="{{_id}}">
          <td>{{profile.firstname}}</td>
          <td>{{profile.lastname}}</td>
          <td>{{organization}}</td>
          <td>{{profile.title}}</td>
          <td>{{profile.address1}} {{profile.address2}}</td>
          <td>{{profile.city}}</td>
          <td>{{profile.state}}</td>
          <td>{{profile.zip}}</td>
          <td>{{profile.telephone}}</td>
          <td>{{getEmail emails}}</td>
          <td>{{profile.events.emergencyName}}</td>
          <td>{{profile.events.emergencyRelationship}}</td>
          <td>{{profile.events.emergencyTelephone}}</td>
          <td>
            {{#if profile.events.diet.ovo}}ovo{{/if}}
            {{#if profile.events.diet.lacto}}lacto{{/if}}
            {{profile.events.diet.arian}}
          </td>
          <td>
            {{#if profile.events.diet.glutenFree}}Gluten-Free{{/if}}
            {{#if profile.events.diet.lactose}}Lactose Intollerant{{/if}}
          </td>
          <td>
            {{#if profile.events.diet.peanut}}Peanut{{/if}}
            {{#if profile.events.diet.milk}}Milk{{/if}}
            {{#if profile.events.diet.egg}}Egg{{/if}}
            {{#if profile.events.diet.wheat}}Wheat{{/if}}
            {{#if profile.events.diet.soy}}Soy{{/if}}
            {{#if profile.events.diet.fish}}Fish{{/if}}
            {{#if profile.events.diet.shellfish}}Shellfish{{/if}}
          </td>
          <td>{{profile.events.accommodations}}</td>
          {{#each getSpecialAnswers profile.events.registeredEvents}}
            <td data-id="{{id}}">{{value}}</td>
          {{/each}}
        </tr>
      {{/each}}
    </table>
  </section>
</template>

<template name="eventAddForm">
  <section id="admin-form-container-event-add" class="admin-form-container">
    <div class="form-container">
      <h4>Add Event</h4>
      <button class="fa add close exit library">&#xf00d;</button>
      <form id="admin-form-event-add">
        <fieldset>
          <label>
            Name
            <input id="event-add-form-name" name="name" type="text" />
          </label>
          <label>
            Description
            <textarea id="event-add-form-desc" name="description"></textarea>
          </label>
          <hr />
          <div>
            <div class="toggleSwitch">
              <input type="checkbox" name="" id="event-add-form-multi-day">
              <label for="event-add-form-multi-day" role="checkbox"></label>
            </div>
            <label for="event-add-form-multi-day" class="toggleSwitchLabel">
              Multi-day Event
            </label>
          </div>
          <!-- Multi-day or all-day event? if yes, input type="date"; else input type="datetime-local" -->
          <label class="w-33">
            Start Date
            <input type="{{dateType}}" name="dateStart" id="event-add-form-dateStart" />
          </label>
          <label class="w-33">
            End Date
            <input type="{{dateType}}" name="dateEnd" id="event-add-form-dateEnd" />
          </label>
          <div class="styledSelect fullBlockMob w-33 margin-right-0">
            <label>Awareness Event</label>
            <select name="awareness" id="event-add-form-awareness" >
              <option value="">No</option>
              <option value="day">Yes, Awareness Day</option>
              <option value="month">Yes, Awareness Month</option>
            </select>
          </div>
        </fieldset>
        <hr />
        <fieldset>
          <h5>Location</h5>
          <label>
            Location Name
            <input id="event-add-form-location-name" name="name" type="text" />
          </label>
          <label>
            Location Map URL
            <input id="event-add-form-location-map-url" name="map-url" type="text" />
          </label>
          <label>
            Webinar URL
            <input id="event-add-form-location-webinar-url" name="webinar-url" type="text" />
          </label>
        </fieldset>
        <hr />
        <fieldset>
          <h5>Pricing</h5>
          <div class="event-price-tier">
            <label class="w-75">
              Tier Description
              <input id="event-add-form-tier-desc-{{id}}" name="tier-desc-{{id}}" type="text" class="description-inp" />
            </label>
            <label class="w-25">
              Cost
              <input id="event-add-form-cost-{{id}}" name="cost-{{id}}" type="number"  class="cost-inp" />
            </label>
          </div>
          <div class="clear-both">
            <button id="admin-btn-event-add-pricing-tier" class="fa add resource add-item-btn">&#xf067; Add Pricing Tier</button>
          </div>
        </fieldset>
        <hr />
        <fieldset>
          <h5>Registration</h5>
          <div>
            <div class="toggleSwitch">
              <input type="checkbox" name="library-add-form-keywords" id="event-add-form-registration-required">
              <label for="event-add-form-registration-required" role="checkbox"></label>
            </div>
            <label for="event-add-form-registration-required" class="toggleSwitchLabel">
              Registration Required
            </label>
          </div>
          <label>
            Registration URL for Third-Party Site (If Applicable)
            <input id="event-add-form-registration-external-url" name="webinar-url" type="text" />
          </label>
          <h5>Registration Fields</h5>
          <div class="event-registration-item">
            <label class="w-75">
              Field Name
              <input id="event-add-form-field-name-{{id}}" name="tier-field-name-{{id}}" type="text" class="field-name-inp" />
            </label>
            <div class="styledSelect fullBlockMob w-25">
              <label>Field Type</label>
              <select name="field-type" id="event-add-form-field-type-{{id}}" class="field-type-inp">
                <option value="text">text</option>
                <option value="email">email</option>
                <option value="yes/no">yes/no</option>
                <option value="date">date</option>
                <option value="color">color</option>
                <option value="textarea">textarea</option>
              </select>
            </div>
          </div>
          <div class="clear-both">
            <button id="admin-btn-event-add-pricing-tier" class="fa add resource add-item-btn">&#xf067; Add Pricing Tier</button>
          </div>
        </fieldset>
        <hr />
        <input type="submit" class="btn" value="Create Event" />
      </form>
    </div>
  </section>
</template>