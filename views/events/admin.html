<template name="eventsAdmin">
    <section class="addEvent hide">
        <h3>Add an Event</h3>
        <button class="fa close">&#xf057; Close</button>
        {{> quickForm collection=events id="eventForm" 
            meteormethod=method type="method" doc=doc }}
    </section>
</template>

<template name="viewRegistrations">
    <section class="viewRegistrations hide">
        <h3>Registered Participants</h3>
        <button class="fa csv">&#xf019; Download as CSV</button>
        <button class="fa close">&#xf057; Close</button>
        <table>
          <thead>
            <tr>
              <th>First Name</th>
              <th>Last Name</th>
              <th>Organization</th>
              <th>Title</th>
              <th>Address</th>
              <th>City</th>
              <th>State</th>
              <th>ZIP Code</th>
              <th>Phone Number</th>
              <th>Email Address</th>
              <th>Emergency Contact Name</th>
              <th>Emergency Contact Relationship</th>
              <th>Emergency Contact Number</th>
              <th>Diet</th>
              <th>Dietary Restrictions</th>
              <th>Allergens</th>
              <th>Special Accommodations</th>
              {{#each getSpecialFields}}
                <th data-id="{{id}}">{{name}}</th>
              {{/each}}
            </tr>
          </thead>
          {{#each registrant}}
            <tr data-id="{{_id}}">
              <td>{{profile.firstname}}</td>
              <td>{{profile.lastname}}</td>
              <td>{{organization}}</td>
              <td>{{profile.title}}</td>
              <td>{{profile.address1}} {{profile.address2}}</td>
              <td>{{profile.city}}</td>
              <td>{{profile.state}}</td>
              <td>{{profile.zip}}</td>
              <td>{{profile.telephone}}</td>
              <td>{{getEmail emails}}</td>
              <td>{{profile.events.emergencyName}}</td>
              <td>{{profile.events.emergencyRelationship}}</td>
              <td>{{profile.events.emergencyTelephone}}</td>
              <td>
                {{#if profile.events.diet.ovo}}ovo{{/if}}
                {{#if profile.events.diet.lacto}}lacto{{/if}}
                {{profile.events.diet.arian}}
              </td>
              <td>
                {{#if profile.events.diet.glutenFree}}Gluten-Free{{/if}}
                {{#if profile.events.diet.lactose}}Lactose Intollerant{{/if}}
              </td>
              <td>
                {{#if profile.events.diet.peanut}}Peanut{{/if}}
                {{#if profile.events.diet.milk}}Milk{{/if}}
                {{#if profile.events.diet.egg}}Egg{{/if}}
                {{#if profile.events.diet.wheat}}Wheat{{/if}}
                {{#if profile.events.diet.soy}}Soy{{/if}}
                {{#if profile.events.diet.fish}}Fish{{/if}}
                {{#if profile.events.diet.shellfish}}Shellfish{{/if}}
              </td>
              <td>{{profile.events.accommodations}}</td>
              {{#each getSpecialAnswers profile.events.registeredEvents}}
                <td data-id="{{id}}">{{value}}</td>
              {{/each}}
            </tr>
          {{/each}}
        </table>
    </section>
</template>
