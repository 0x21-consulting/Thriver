<!--Note that li.eventSlide requires a value=# which matches that of it's cooresponding calendar listing: '.eventDate'. values should start at 0-->

<template name="events">
    <section class="events mainSection" id="{{anchor name=name}}" data-id="{{_id}}">
        {{#if isAdmin}}
            {{> sectionAdmin}}
        {{/if}}
        <div class="containerSmall">
            <header>
                <h1>Events</h1>
                <p>WCASA caters its events towards the needs of its membership <br>
                    and the service providers of the state as a whole. <br>
                    Check back often to find events year-round.
                </p>
            </header>
        </div>
        <div class="eventsContainer">
            <aside class="eventsSidebar">
                <h2 class="sidebarHeader">Events Calendar</h2>
                {{>calendar}}
                <h2 class="sidebarHeader">Upcoming Events</h2>
                {{>upcomingEvents}}
            </aside>
            <div class="eventsMain main">
                <header class="eventsHeader">
                    <ul>
                        <li class="scroll-prev-month preventSelect"><span class="fa">&#xf137;</span> {{lastMonth}}</li>
                        <li class="scroll-next-month preventSelect">{{nextMonth}} <span class="fa">&#xf138;</span></li>
                        <li class="search"><span class="fa">&#xf002;</span><input type="search"></li>
                    </ul>
                </header>
                <div class="eventsSlider">
                    <button class="sliderPrev fa">&#xf053;</button>
                    <div class="slideScroller">
                        <ul class="slides" id="slidesList">
                            {{>eventSlide}}
                            {{>eventSlide2}}
                            {{>eventSlide3}}
                        </ul>
                    </div>
                    <button class="sliderNext fa">&#xf054;</button>
                </div>
            </div>
        </div>
    </section>
</template>


<template name="eventSlide">
    <li value="0" class="eventSlide">
        <div class="eventContainer">
            <div class="inner">
                <header>
                    <p class="eventDate">June 9th, 2016</p>
                    <aside class="otherEvents">
                    There are 2 other events on this date:
                        <ul>
                            <li><a href="#">Spring Directors Meeting</a></li>
                            <li><a href="#">Teen Summit on Dating &amp; Sexual Violence</a></li>
                        </ul>
                </aside>
                </header>
                <div class="main">
                    <h2>Survivors &amp; Allies / 5th Annual Wrap Around the Capitol</h2>
                    <p class="excerpt">
                        <b>2:00pm: Inside the Capitol Rotunda</b><br>
                        Wrap Around the Capitol follows the Survivors & Allies Task Force Gathering on on April 9th, 2016. Download a flier to distribute in your community!
                    </p>
                    <p>
                        What is “Wrap Around the Capitol?” For the past 4 years, the Wisconsin Coalition Against Sexual Assault has organized this event as part of Sexual Assault Awareness Month. The event involves a rally outside the capitol, and survivors of sexual violence, allies, advocates, and other community members carrying strips of denim around the capitol.
                        <span class="truncated fa">&#xf141;</span>
                    </p>
                    <p>
                        This act symbolizes a statewide (and international, per below) effort to end sexual violence in solidarity with survivors and their allies.
                    </p>
                    <div class="extended">
                        <p>
                            Why denim? Because of an international outrage. In the 1990s, an 18 year-old woman was raped by a 45 year-old driving instructor in Italy. The perpetrator was arrested, prosecuted, convicted of rape, and sentenced to jail. However, the Supreme Court overturned the rape conviction. The judges believed that the victim must have consented to sexual contact since, in their opinion, her jeans were so tight the perpetrator could not have gotten them off without her assistance. Outraged, the Italian Parliament protested by wearing jeans to work. Thus was born Denim Day, which is observed in the U.S. on April 29.
                        </p>
                        <p>For more information on Denim Day, see our Denim Day page.</p>
                        <p>See what is going on in 2016 for Sexual Assault Awareness Month (SAAM) in Wisconsin.</p>
                    </div>
                </div>
                <ul class="actions">
                    <li class="register">Register</li>
                    <li class="details">Read More <span class="fa">&#xf0da;</span></li>
                </ul>
            </div>
        </div>
    </li>
</template>




<template name="upcomingEvents">
        <ul class="upcomingEvents">
            {{>upcomingEventListItem}}
            {{>upcomingEventListItem}}
            {{>upcomingEventListItem}}
            <!--{{>actionNotLoggedIn}}-->
        </ul>
        <!--<button class="seeAllEvents">See All Upcoming <span class="fa">&#xf13a;</span></button>-->
</template>

<template name="upcomingEventListItem">
    <li>
        <h3>
            <a class="eventDate" href="#" data-value="2">
             Nov 26 &mdash; Teen Summit on Dating &amp; Sexual Violence
            </a>
        </h3>
        <ul class="actions">
            <!--{{>actionRegisterPrompt}}-->
            <!--{{>actionUnregisterPrompt}}-->
            <!--{{>actionRegistered}}-->
            <!--{{>actionNotRegistered}}-->
            <!--{{>actionNotLoggedIn}}-->
        </ul>
    </li>
</template>

<template name="actionRegistered">
    <li class="registered info">You are currently registered for this event.</li>
    <li class="view action"><a href="#" class="eventDate" data-value="2">View Event</a></li>
    <li class="unregister action"><a href="#">Unregister</a></li>
</template>

<template name="actionNotRegistered">
    <li class="view action"><a href="#" class="eventDate" data-value="2">View Event</a></li>
    <li class="register action"><a href="#">Register</a></li>
</template>

<template name="actionUnregisterPrompt">
    <li class="noRegistered info">You have been unregistered for this event.</li>
</template>

<template name="actionRegisterPrompt">
    <li class="justRegistered info">You are now registered for this event.</li>
</template>

<template name="actionNotLoggedIn">
    <li class="notAccount info">
        <a href="#" class="login">Login</a> or <a href="#" class="create">Create an Account</a> to register for this event.
    </li>
    <li class="view action"><a href="#" class="eventDate" data-value="2">View Event</a></li>
</template>

<template name="eventSummary">
    <span class="eventSummary">
        <ul>
            {{#each this}}
                <li>{{name}}</li>
            {{/each}}
        </ul>
    </span>
</template>


<template name="calendar">
    <div id="calendar" class="calendar">
        <h2>
            <span class="fa prevMonth monthPaginate">&#xf0d9;</span>
            {{getMonth}} {{getYear}}
            <span class="fa nextMonth monthPaginate">&#xf0da;</span>
        </h2>
        <!--Days-->
        <span class="weekday">S</span>
        <span class="weekday">M</span>
        <span class="weekday">T</span>
        <span class="weekday">W</span>
        <span class="weekday">T</span>
        <span class="weekday">F</span>
        <span class="weekday">S</span>
        <!--Days End-->

        {{#each week}}
            {{#each this}}
                <span class="{{notCurrent}} {{currentWeekStart}} {{today}} {{hasEvent}} {{past}}">
                    {{#if hasEvent}}
                        <button data-id="{{href}}" class="eventDate">
                            {{date}}
                            {{> eventSummary currentEvents}}
                        </button>
                    {{else}}
                        {{date}}
                    {{/if}}
                </span>
            {{/each}}
        {{/each}}

        <div style="clear:both;"></div>
    </div>
</template>


<!--Duplicate for Demo Purposes-->
<template name="eventSlide2">
    <li value="1" class="eventSlide">
        <div class="eventContainer">
            <div class="inner">
                <header>
                <p class="eventDate">June 9th-12th, 2016</p>
                    <aside class="otherEvents">
                    There is one other events on this date:
                        <ul>
                            <li><a href="#">Allies / 5th Annual Wrap Around the Capitol</a></li>
                        </ul>
                    </aside>
                </header>
                <div class="main">
                    <h2>Spring Directors Meeting</h2>
                    <p class="excerpt">
                        <b>2:00pm: Inside the Capitol Rotunda</b><br>
                        Wrap Around the Capitol follows the Survivors & Allies Task Force Gathering on on April 9th, 2016. Download a flier to distribute in your community!
                    </p>
                    <p>
                        What is “Wrap Around the Capitol?” For the past 4 years, the Wisconsin Coalition Against Sexual Assault has organized this event as part of Sexual Assault Awareness Month. The event involves a rally outside the capitol, and survivors of sexual violence,
                        <span class="truncated fa">&#xf141;</span>
                    </p>
                    <p>
                        allies, advocates, and other community members carrying strips of denim around the capitol until the two ends meet each other. This act symbolizes a statewide (and international, per below) effort to end sexual violence in solidarity with survivors and their allies.
                    </p>
                    <div class="extended">
                        <p>
                            Why denim? Because of an international outrage. In the 1990s, an 18 year-old woman was raped by a 45 year-old driving instructor in Italy. The perpetrator was arrested, prosecuted, convicted of rape, and sentenced to jail. However, the Supreme Court overturned the rape conviction. The judges believed that the victim must have consented to sexual contact since, in their opinion, her jeans were so tight the perpetrator could not have gotten them off without her assistance. Outraged, the Italian Parliament protested by wearing jeans to work. Thus was born Denim Day, which is observed in the U.S. on April 29.
                        </p>
                        <p>For more information on Denim Day, see our Denim Day page.</p>
                        <p>See what is going on in 2016 for Sexual Assault Awareness Month (SAAM) in Wisconsin.</p>
                    </div>
                </div>
                <ul class="actions">
                    <li class="register">Register</li>
                    <li class="details">Read More <span class="fa">&#xf0da;</span></li>
                </ul>
            </div>
        </div>
    </li>
</template>

<!--Duplicate for Demo Purposes-->
<template name="eventSlide3">
    <li value="2" class="eventSlide">
        <div class="eventContainer">
            <div class="inner">
                <header>
                    <p class="eventDate">June 9th, 2016</p>
                    <aside class="otherEvents">
                    There is one other events on this date:
                        <ul>
                            <li><a href="#">Allies / 5th Annual Wrap Around the Capitol</a></li>
                        </ul>
                    </aside>
                </header>
                <div class="main">
                    <h2>Teen Summit on Dating &amp; Sexual Violence</h2>
                    <p class="excerpt">
                        <b>2:00pm: Inside the Capitol Rotunda</b><br>
                        Wrap Around the Capitol follows the Survivors & Allies Task Force Gathering on on April 9th, 2016. Download a flier to distribute in your community!
                    </p>
                    <p>
                        What is “Wrap Around the Capitol?” For the past 4 years, the Wisconsin Coalition Against Sexual Assault has organized this event as part of Sexual Assault Awareness Month. The event involves a rally outside the capitol, and survivors of sexual violence, allies, advocates, and other community members carrying strips of denim around the capitol until the two ends meet each other. This act symbolizes a statewide (and international, per below).
                    <span class="truncated fa">&#xf141;</span>
                    </p>
                    <p>For more information on Denim Day, see our Denim Day page.</p>
                    <div class="extended">
                        <p>
                            Why denim? Because of an international outrage. In the 1990s, an 18 year-old woman was raped by a 45 year-old driving instructor in Italy. The perpetrator was arrested, prosecuted, convicted of rape, and sentenced to jail. However, the Supreme Court overturned the rape conviction. The judges believed that the victim must have consented to sexual contact since, in their opinion, her jeans were so tight the perpetrator could not have gotten them off without her assistance. Outraged, the Italian Parliament protested by wearing jeans to work. Thus was born Denim Day, which is observed in the U.S. on April 29.
                        </p>
                    </div>
                </div>
                <ul class="actions">
                    <li class="register">Register</li>
                    <li class="details">Read More <span class="fa">&#xf0da;</span></li>
                </ul>
            </div>
        </div>
    </li>
</template>